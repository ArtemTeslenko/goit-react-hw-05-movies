{"version":3,"file":"static/js/53.ee36f914.chunk.js","mappings":"+NAGMA,EAAYC,EAAAA,GAAAA,IAAH,+CAITC,GAAYD,EAAAA,EAAAA,IAAOE,EAAAA,GAAPF,CAAH,qB,mJCLTG,EAAOH,EAAAA,GAAAA,KAAH,sBACJI,EAAcJ,EAAAA,GAAAA,MAAH,sBACXK,EAAYL,EAAAA,GAAAA,OAAH,sB,SCDFM,EAAa,SAAC,GAAsB,IAApBC,EAAmB,EAAnBA,aAC3B,OACE,UAACJ,EAAD,CAAMK,SAAUD,EAAhB,WACE,SAACH,EAAD,CAAaK,KAAK,OAAOC,KAAK,WAC9B,SAACL,EAAD,CAAWI,KAAK,SAAhB,sBAGL,E,kBCFYE,EAAS,WACpB,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA4BC,EAAAA,EAAAA,UAAS,MAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KAyBA,OAhBAC,EAAAA,EAAAA,YAAU,WAAO,IAAD,EACRC,EAAK,UAAGR,EAAaS,IAAI,gBAApB,QAAgC,GACtCD,IAILF,GAAa,GACbI,EAAAA,EAAAA,IAAA,4DAEyDC,EAAAA,GAFzD,kBAEsEH,EAFtE,WAIGI,MAAK,SAAAC,GAAI,OAAIT,EAAUS,EAAKC,KAAKC,QAAxB,IACTC,OAAM,kBAAMC,EAAAA,EAAAA,IAAM,qDAAZ,IACNC,QAAQZ,GAAa,IACzB,GAAE,CAACN,KAGF,UAAC,IAAD,WACGK,IAAa,wCACd,SAACd,EAAD,CAAYC,aA1BK,SAAA2B,GACnBA,EAAEC,iBAEF,IAAMC,EAAQF,EAAEG,cAAcd,MAAMa,MACpCpB,EAA0B,KAAVoB,EAAe,CAAEb,MAAOa,GAAU,CAAC,EACpD,KAsBG,wBACGlB,GACCA,EAAOoB,KAAI,gBAAGC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,eAAP,OACT,yBACE,SAAC,IAAD,CAAWC,GAAE,UAAKF,GAAMG,MAAO,CAAEC,KAAM/B,GAAvC,SACG4B,KAFID,EADA,QAUpB,C","sources":["pages/Movies/Movies.styled.jsx","components/Search/SearchForm.styled.jsx","components/Search/SearchForm.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["import { NavLink } from 'react-router-dom';\nimport styled from 'styled-components';\n\nconst MoviesBox = styled.div`\n  padding: 10px 20px;\n`;\n\nconst MovieLink = styled(NavLink)``;\n\nexport { MoviesBox, MovieLink };\n","import styled from 'styled-components';\n\nconst Form = styled.form``;\nconst SearchInput = styled.input``;\nconst SearchBtn = styled.button``;\n\nexport { Form, SearchInput, SearchBtn };\n","import PropTypes from 'prop-types';\nimport { Form, SearchInput, SearchBtn } from './SearchForm.styled';\n\nexport const SearchForm = ({ onFormSubmit }) => {\n  return (\n    <Form onSubmit={onFormSubmit}>\n      <SearchInput type=\"text\" name=\"query\" />\n      <SearchBtn type=\"submit\">Search</SearchBtn>\n    </Form>\n  );\n};\n\nSearchForm.propTypes = {\n  onFormSubmit: PropTypes.func.isRequired,\n};\n","import axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\nimport toast from 'react-hot-toast';\nimport { SearchForm } from 'components/Search';\nimport { MovieLink, MoviesBox } from './Movies.styled';\nimport { KEY } from 'components/Utils';\n\nexport const Movies = () => {\n  const location = useLocation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [movies, setMovies] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    const value = e.currentTarget.query.value;\n    setSearchParams(value !== '' ? { query: value } : {});\n  };\n\n  useEffect(() => {\n    const query = searchParams.get('query') ?? '';\n    if (!query) {\n      return;\n    }\n\n    setIsLoading(true);\n    axios\n      .get(\n        `https://api.themoviedb.org/3/search/movie?api_key=${KEY}&query=${query}&page=`\n      )\n      .then(resp => setMovies(resp.data.results))\n      .catch(() => toast('Something went wrong please try again üêù'))\n      .finally(setIsLoading(false));\n  }, [searchParams]);\n\n  return (\n    <MoviesBox>\n      {isLoading && <h1>Loading...</h1>}\n      <SearchForm onFormSubmit={handleSubmit} />\n      <ul>\n        {movies &&\n          movies.map(({ id, original_title }) => (\n            <li key={id}>\n              <MovieLink to={`${id}`} state={{ from: location }}>\n                {original_title}\n              </MovieLink>\n            </li>\n          ))}\n      </ul>\n    </MoviesBox>\n  );\n};\n"],"names":["MoviesBox","styled","MovieLink","NavLink","Form","SearchInput","SearchBtn","SearchForm","onFormSubmit","onSubmit","type","name","Movies","location","useLocation","useSearchParams","searchParams","setSearchParams","useState","movies","setMovies","isLoading","setIsLoading","useEffect","query","get","axios","KEY","then","resp","data","results","catch","toast","finally","e","preventDefault","value","currentTarget","map","id","original_title","to","state","from"],"sourceRoot":""}